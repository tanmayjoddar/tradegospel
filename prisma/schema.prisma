generator client {
  provider = "prisma-client-go"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Ledger {
  id          Int       @id @default(autoincrement())
  amount      Float
  description String
  createdAt   DateTime  @default(now()) @map("created_at")
  auditLogs   AuditLog[]

  @@map("ledger")
}

model AuditLog {
  id        Int       @id @default(autoincrement())
  ledgerId  Int       @map("ledger_id")
  actor     String
  action    String
  timestamp DateTime  @default(now())
  ledger    Ledger    @relation(fields: [ledgerId], references: [id], onDelete: Cascade)

  @@map("audit_ledger")
}
